<apex:page standardController="Quote__c"
           showHeader="false"
           standardStylesheets="false"
           applyBodyTag="false"
           applyHtmlTag="false"
           extensions="getQuoteData"
           renderAs="pdf">
    <html>
        <head>
            <style type="text/css">
                @page {
                    size: A4;
                    margin: 20mm;
                    border: 1px solid #000;
                }
                
                body {
                    font-family: Arial, sans-serif;
                    font-size: 12px;
                    margin: 0;
                    padding: 15px;
                }

                table {
                    border-collapse: collapse;
                    width: 100%;
                    margin-bottom: 10px;
                }

                td, th {
                    border: 0.5px solid #000;
                    padding: 8px;
                    padding: 4px 6px; /* Reduce vertical and horizontal padding */
                    vertical-align: middle;
                }

                tr {
                    page-break-inside: avoid;
                }

                .header-row {
                    background-color: #f5f5f5;
                }

                .header-title {
                    font-size: 18px;
                    font-weight: bold;
                    text-align: center;
                }

                .section-header {
                    background-color: #d3d3d3;
                    font-weight: bold;
                }

                .right {
                    text-align: right;
                }

                .center {
                    text-align: center;
                }

                .bold {
                    font-weight: bold;
                }

                .page-break {
                    page-break-before: always;
                }

                h5 {
                    margin: 10px 0 5px 0;
                    font-size: 14px;
                }
                /* Outer border only */
                .outer-border-table {
                border: 1px solid #000;        /* Adds outside border */
                border-collapse: collapse;
                width: 100%;
                }
                
                /* Remove inside borders */
                .outer-border-table td,
                .outer-border-table th {
                border: none !important;       /* No inner lines */
                padding: 4px 8px;
                vertical-align: middle;
                }
                
                .header-title {
                font-size: 18px;
                font-weight: bold;
                text-align: center;
                }
            </style>
        </head>

        <body>
            <!-- Header -->
            <table class="outer-border-table">
                <tr >
                    <td style="width: 20%;"></td>
                    <td style="width: 60%;">
                        <div class="header-title">Trifecta Projects - Cost Sheet</div>
                    </td>
                    <td style="width: 20%; text-align: right;">
                        <apex:image url="{!URLFOR($Resource.TrifectaLogo)}" style="height:45px; width:45px;"/>
                    </td>
                </tr>
            </table>
            
            <!-- Cost Sheet -->
            <table>
                <tr>
                    <td colspan="3"><b>RERA - {!qout.RERA__c}</b></td>
                </tr>
                <tr>
                    <td colspan="2" style="width: 60%;"><b>Unit No:</b></td>
                    <td colspan="2" class="right" style="width: 40%;">{!qout.Unit__r.Name}</td>
                </tr>
                <tr>
                    <td style="width: 60%;">Land Area in Sq.ft</td>
                    <td style="width: 20%;"></td>
                    <td class="right" style="width: 20%;">{!qout.Plot_Land_Area__c}</td>
                </tr>
                <tr>
                    <td>Super Builtup area in Sq.ft</td>
                    <td></td>
                    <td class="right">{!qout.Super_Built_UpArea__c}</td>
                </tr>
                 <tr>
                    <td>Rate per Sq.ft on SBA</td>
                    <td></td>
                    <td class="right">{!qout.Rate_sq_Ft_Discount__c}</td>
                </tr>
                <tr>
                    <td>Basic Cost (A)</td>
                    <td class="right"></td>
                    <td class="right">   
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Base_Value__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr>
                    <td>PLC</td>
                    <td class="right">
                        <!-- Show 0 when NULL or 0 -->
                        <apex:outputText value="0"
                                         rendered="{!OR(
                                                   qout.PLC__c == null,
                                                   qout.PLC__c == 0
                                                   )}" />
                        
                        <!-- Show formatted value when > 0 -->
                        <apex:outputText value="{0, number, ##,##,###.00}"
                                         rendered="{!AND(qout.PLC__c !=null ,qout.PLC__c > 0)}">
                            <apex:param value="{!qout.PLC__c}" />
                        </apex:outputText>
                    </td>
                    <td class="right" >
                        <!-- Show 0 when NULL or 0 -->
                        <apex:outputText value="0"
                                         rendered="{!OR(
                                                   qout.PLC_Amount__c == null,
                                                   qout.PLC_Amount__c == 0
                                                   )}" />
                        
                        <!-- Show formatted value when > 0 -->
                        <apex:outputText value="{0, number, ##,##,###.00}"
                                         rendered="{!AND(qout.PLC_Amount__c !=null,qout.PLC_Amount__c > 0)}">
                            <apex:param value="{!qout.PLC_Amount__c}" />
                        </apex:outputText>
                    </td>
                </tr>
                <tr>
                    <td>Extra Land</td>
                    <td></td>
                    <td class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Extra_Land_Amount__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr class="section-header">
                    <td>Sub Total (A)</td>
                    <td></td>
                    <td class="right">   
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!subtotalVillaA}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
            </table>
            
            <table>
                <tr>
                    <td colspan="3"><b>Other Charges</b></td>
                </tr>
                <tr>
                    <td style="width: 60%;">Bescom</td>
                    <td style="width: 20%;" class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Bescom__c}" /> 
                        </apex:outputText>  
                    </td>
                    <td style="width: 20%;" class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Bescom_Charges__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr>
                    <td>STP and Generator</td>
                    <td class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Generator_Charges__c}" /> 
                        </apex:outputText>  
                    </td>
                    <td class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.STP_and_Generator_Charges__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr class="section-header">
                    <td>Sub Total (B)</td>
                    <td></td>
                    <td class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!subTotalVillaB}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr class="section-header">
                    <td>Sub Total (A+B)</td>
                    <td></td>
                    <td class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!totalAmountVillaAB}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr class="section-header">
                    <td style="width: 60%;">GST ( {!qout.GST__c} % )</td>
                    <td style="width: 20%;"></td>
                    <td style="width: 20%;" class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.GST_Amount__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                <tr class="section-header">
                    <td style="width: 60%;">Total Value</td>
                    <td style="width: 20%;"></td>
                    <td style="width: 20%;" class="right">
                        <apex:outputText value="{0, number, ##,##,###}">
                            <apex:param value="{!qout.Grand_Total_Amount__c}" /> 
                        </apex:outputText>  
                    </td>
                </tr>
                
               
            </table>
            
       
            <!-- Tentative Payment Schedule -->
            <h5>Tentative Payment Schedule:</h5>
            
            <table>
                <tr >
                    <td colspan="3"> <h4>Land Schedule:</h4></td>
                </tr>
                <apex:repeat value="{!landSchedules}"  var="p">
                    <tr >
                        <td style="width: 60%;">{!p.Name} </td>
                        <td  align="center" style="width: 40%;">
                            <apex:outputText value="{0, Number}">
                                <apex:param value="{!p.Payment_percent__c}" /> 
                            </apex:outputText>  %
                        </td>
                    </tr>
                </apex:repeat>
            </table>
            
            <table>
                <tr >
                    <td colspan="3"> <h4>Construction Schedule:</h4></td>
                </tr>
                <apex:repeat value="{!constructionSchedules}"  var="p">
                    <tr >
                        <td style="width: 60%;">{!p.Name} </td>
                        <td  align="center" style="width: 40%;">
                            <apex:outputText value="{0, Number}">
                                <apex:param value="{!p.Payment_percent__c}" /> 
                            </apex:outputText>  %
                        </td>
                    </tr>
                </apex:repeat>
            </table>
            
            <div class="page-break"></div>

            
            
            <!-- Terms and Conditions -->
            <h5>Terms and Conditions:</h5>
            <table>
                <tr><td>1. Cost sheet is valid till October - 2025 subject to change without notice.</td></tr>
                <tr><td>2. Any introduction of new taxes, levies, Cess and increase or decrease in the taxes would be to the customer's account.</td></tr>
                <tr><td>3. Agreements of sale is to be executed within 20 days from the date of booking.</td></tr>
                <tr><td>4. Cancellation charges of Rs.25,000/- (Rupees Twenty Thousand Only) is applicable up to 21 days from the date of booking.</td></tr>
                <tr><td>5. All refunds will be processed within 90 days from the date of cancellation without any interest.</td></tr>
                <tr><td>6. Stamp duty, registration charges and incidental expenses to be borne by the customer and to be paid at the time of registration.</td></tr>
                <tr><td>7. Maintenance from the date of Registration to be paid in advance to Association/Builder/Respective Agency Separately on actuals.</td></tr>
                <tr><td>8. Cheque should be drawn in favour of "M/s. Trifecta Projects Pvt Ltd".</td></tr>
                <tr><td>9. Errors and omissions are expected (E&amp;OE).</td></tr>
                <tr><td>10. Above cost does not include BWSSB Deposits &amp; BWSSB Cost, which should be borne by the customers as and when applicable.</td></tr>
                <tr><td>11. GST included in the Total Cost.</td></tr>
            </table>
        </body>
    </html>
</apex:page>